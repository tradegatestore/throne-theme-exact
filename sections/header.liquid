<link rel="stylesheet" href="{{ 'header.css' | asset_url }}" media="print" onload="this.media='all'">
<noscript>{{ 'header.css' | asset_url | stylesheet_tag }}</noscript>

<style>
  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem 0;
    background-color: rgb(var(--color-base-background-1));
  }
  
  .header--transparent {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background: transparent;
  }
  
  .header__wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
  }
  
  .header__logo-link {
    display: flex;
    align-items: center;
  }
  
  .header__logo-image {
    max-height: 50px;
    width: auto;
  }
  
  .header__logo-text {
    font-size: 2.4rem;
    font-weight: 700;
    color: inherit;
    text-decoration: none;
    letter-spacing: 0.05em;
  }
  
  .header__nav {
    display: none;
  }
  
  @media screen and (min-width: 990px) {
    .header__nav {
      display: flex;
      align-items: center;
      gap: 3rem;
    }
  }
  
  .header__menu {
    display: flex;
    align-items: center;
    gap: 3rem;
    list-style: none;
    margin: 0;
    padding: 0;
  }
  
  .header__menu-link {
    font-size: 1.3rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: rgb(var(--color-base-text));
    text-decoration: none;
    transition: color 0.3s ease;
    position: relative;
    padding: 0.5rem 0;
  }
  
  .header__menu-link:hover,
  .header__menu-link[aria-current="page"] {
    color: rgb(var(--color-base-accent-1));
  }
  
  .header__menu-link::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: rgb(var(--color-base-accent-1));
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.3s ease;
  }
  
  .header__menu-link:hover::after {
    transform: scaleX(1);
    transform-origin: left;
  }
  
  .header__icons {
    display: flex;
    align-items: center;
    gap: 1rem;
  }
  
  .header__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 4rem;
    height: 4rem;
    background: transparent;
    border: none;
    cursor: pointer;
    color: rgb(var(--color-base-text));
    transition: color 0.3s ease;
  }
  
  .header__icon:hover {
    color: rgb(var(--color-base-accent-1));
  }
  
  .header__icon svg {
    width: 2.2rem;
    height: 2.2rem;
  }
  
  .header__cart-count {
    position: absolute;
    top: 0;
    right: 0;
    min-width: 1.8rem;
    height: 1.8rem;
    padding: 0 0.4rem;
    background-color: rgb(var(--color-base-accent-1));
    color: rgb(var(--color-base-solid-button-labels));
    font-size: 1rem;
    font-weight: 600;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .header__menu-toggle {
    display: flex;
    flex-direction: column;
    gap: 5px;
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0.5rem;
  }
  
  @media screen and (min-width: 990px) {
    .header__menu-toggle {
      display: none;
    }
  }
  
  .header__menu-toggle span {
    display: block;
    width: 24px;
    height: 2px;
    background-color: rgb(var(--color-base-text));
  }
</style>

<header class="header{% if section.settings.transparent_header %} header--transparent{% endif %}">
  <div class="page-width header__wrapper">
    {%- if section.settings.menu != blank -%}
      <nav class="header__nav header__nav--left">
        <ul class="header__menu">
          {%- for link in section.settings.menu.links limit: 3 -%}
            <li>
              <a href="{{ link.url }}" class="header__menu-link"{% if link.current %} aria-current="page"{% endif %}>{{ link.title }}</a>
            </li>
          {%- endfor -%}
        </ul>
      </nav>
    {%- endif -%}

    <div class="header__logo">
      <a href="{{ routes.root_url }}" class="header__logo-link">
        {%- if section.settings.logo != blank -%}
          <img src="{{ section.settings.logo | image_url: width: 300 }}" alt="{{ shop.name }}" class="header__logo-image" width="{{ section.settings.logo_width }}" height="auto" loading="lazy">
        {%- else -%}
          <span class="header__logo-text">{{ shop.name }}</span>
        {%- endif -%}
      </a>
    </div>

    {%- if section.settings.menu != blank -%}
      <nav class="header__nav header__nav--right">
        <ul class="header__menu">
          {%- for link in section.settings.menu.links offset: 3 -%}
            <li>
              <a href="{{ link.url }}" class="header__menu-link"{% if link.current %} aria-current="page"{% endif %}>{{ link.title }}</a>
            </li>
          {%- endfor -%}
        </ul>
      </nav>
    {%- endif -%}

    <div class="header__icons">
      <a href="{{ routes.search_url }}" class="header__icon header__icon--search" aria-label="Search">
        {% render 'icon-search' %}
      </a>
      <a href="{{ routes.account_url }}" class="header__icon header__icon--account" aria-label="Account">
        {% render 'icon-account' %}
      </a>
      <a href="{{ routes.cart_url }}" class="header__icon header__icon--cart" aria-label="Cart">
        {% render 'icon-cart' %}
        {%- if cart.item_count > 0 -%}
          <span class="header__cart-count">{{ cart.item_count }}</span>
        {%- endif -%}
      </a>
      <button class="header__menu-toggle" aria-label="Menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>
</header>

{% schema %}
{
  "name": "Header",
  "class": "section-header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 250,
      "step": 10,
      "default": 100,
      "unit": "px",
      "label": "Logo width"
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "Menu"
    },
    {
      "type": "checkbox",
      "id": "transparent_header",
      "default": false,
      "label": "Transparent header"
    },
    {
      "type": "checkbox",
      "id": "enable_sticky_header",
      "default": true,
      "label": "Enable sticky header"
    }
  ]
}
{% endschema %}
